#!/usr/bin/env sh

# Run linting on staged files
pnpm lint-staged

# Check if database types changed
if git diff --cached --name-only | grep -q "src/types/database.ts"; then
  echo ""
  echo "üîç Database types changed - running field documentation check..."
  pnpm db:docs

  echo ""
  echo "‚ö†Ô∏è  Database types were updated!"
  echo "   Please review and update if needed:"
  echo "   ‚Ä¢ docs/DATA_DICTIONARY.md"
  echo "   ‚Ä¢ docs/field-sources.json"
  echo ""
fi
