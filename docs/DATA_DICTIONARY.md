# Data Dictionary

This document maps all fields in the Warehouse system, organized by different views to understand data flow and coverage.

**Legend:**
- ğŸ”µ **GE** - Synced from GE DMS
- ğŸŸ¢ **Custom** - Added for warehouse operations
- ğŸŸ¡ **System** - Auto-generated by database/app
- ğŸŸ£ **Computed** - Derived from other fields

**Sync Status:**
- âœ“ **Synced** - Successfully importing from GE
- âš ï¸ **Partial** - Some data missing/incomplete
- âŒ **Missing** - Not yet implemented
- N/A - Not applicable (custom/system fields)

---

## View 1: By Database Table/Entity

### Products Table
Core product catalog (models, not individual units)

| Field | Source | Type | Required | Description | Used In | Sync Status |
|-------|--------|------|----------|-------------|---------|-------------|
| `id` | ğŸŸ¡ System | uuid | âœ“ | Primary key | All views | N/A |
| `company_id` | ğŸŸ¡ System | uuid | âœ“ | Tenant isolation | All views | N/A |
| `model` | ğŸ”µ GE | string | âœ“ | Product model number | Inventory, Products, Map | âœ“ Synced |
| `product_type` | ğŸ”µ GE | string | - | Category (Refrigerator, Range, etc.) | Inventory, Dashboard | âœ“ Synced |
| `image_url` | ğŸŸ¢ Custom | string | - | Product photo URL | Inventory, Map markers | N/A |
| `created_at` | ğŸŸ¡ System | timestamp | âœ“ | Record creation time | Audit logs | N/A |
| `updated_at` | ğŸŸ¡ System | timestamp | âœ“ | Last modification time | Audit logs | N/A |

### Inventory Items Table
Individual units in warehouse (each appliance)

| Field | Source | Type | Required | Description | Used In | Sync Status |
|-------|--------|------|----------|-------------|---------|-------------|
| `id` | ğŸŸ¡ System | uuid | âœ“ | Primary key | Scanning, Inventory | N/A |
| `company_id` | ğŸŸ¡ System | uuid | âœ“ | Tenant isolation | All views | N/A |
| `location_id` | ğŸŸ¡ System | uuid | âœ“ | Warehouse location | All views | N/A |
| `serial` | ğŸ”µ GE | string | âœ“ | Serial number (barcode) | Scanning, Inventory | âœ“ Synced |
| `model` | ğŸ”µ GE | string | âœ“ | Product model | Inventory, Map | âœ“ Synced |
| `product_type` | ğŸ”µ GE | string | - | Category | Dashboard, Filters | âœ“ Synced |
| `product_fk` | ğŸŸ¡ System | uuid | - | Foreign key to products table | Joins | N/A |
| `inventory_type` | ğŸ”µ GE | enum | âœ“ | ASIS, FG, Staged, etc. | Inventory, Sessions | âœ“ Synced |
| `sub_inventory` | ğŸ”µ GE | string | - | Load/route identifier | Load Management | âœ“ Synced |
| `ge_last_sync` | ğŸŸ¡ System | timestamp | - | Last GE sync time | Sync monitoring | N/A |
| `created_at` | ğŸŸ¡ System | timestamp | âœ“ | Record creation | Audit | N/A |
| `updated_at` | ğŸŸ¡ System | timestamp | âœ“ | Last update | Audit | N/A |

### Load Metadata Table
Load/route tracking for ASIS inventory

| Field | Source | Type | Required | Description | Used In | Sync Status |
|-------|--------|------|----------|-------------|---------|-------------|
| `id` | ğŸŸ¡ System | uuid | âœ“ | Primary key | Load Management | N/A |
| `company_id` | ğŸŸ¡ System | uuid | âœ“ | Tenant isolation | All views | N/A |
| `location_id` | ğŸŸ¡ System | uuid | âœ“ | Warehouse location | All views | N/A |
| `inventory_type` | ğŸ”µ GE | enum | âœ“ | Usually "ASIS" | Load Management | âœ“ Synced |
| `sub_inventory_name` | ğŸ”µ GE | string | âœ“ | Load identifier (e.g., "1/2") | Load Management | âœ“ Synced |
| `friendly_name` | ğŸŸ¢ Custom | string | - | Human-readable name | Load cards, Sessions | N/A |
| `ge_source_status` | ğŸ”µ GE | string | - | "for sale" or "sold" | Load filters | âœ“ Synced |
| `ge_cso_status` | ğŸ”µ GE | string | - | "picked", "shipped", "delivered" | Load filters | âœ“ Synced |
| `ge_inv_org` | ğŸ”µ GE | string | - | GE inventory org code | Sync reference | âœ“ Synced |
| `ge_units` | ğŸ”µ GE | number | - | Number of units in load | Load summary | âš ï¸ Partial |
| `ge_submitted_date` | ğŸ”µ GE | date | - | Date submitted to GE | Load timeline | âœ“ Synced |
| `ge_cso` | ğŸ”µ GE | string | - | Customer Service Order number | Load detail, Sessions | âœ“ Synced |
| `ge_pricing` | ğŸ”µ GE | string | - | Pricing info | Load detail | âš ï¸ Partial |
| `ge_notes` | ğŸ”µ GE | text | - | GE-provided notes | Load detail | âœ“ Synced |
| `ge_scanned_at` | ğŸ”µ GE | timestamp | - | Last scan by GE | Sync monitoring | âœ“ Synced |
| `primary_color` | ğŸŸ¢ Custom | string | - | Hex color for UI | Map legend, Session UI | N/A |
| `prep_tagged` | ğŸŸ¢ Custom | boolean | - | Prep step: tagged | Load prep tracking | N/A |
| `prep_wrapped` | ğŸŸ¢ Custom | boolean | - | Prep step: wrapped | Load prep tracking | N/A |
| `sanity_check_requested` | ğŸŸ¢ Custom | boolean | - | Sanity check needed | Load workflow | N/A |
| `sanity_check_requested_at` | ğŸŸ¢ Custom | timestamp | - | When requested | Load workflow | N/A |
| `sanity_check_requested_by` | ğŸŸ¢ Custom | string | - | Who requested | Load workflow | N/A |
| `sanity_check_completed_at` | ğŸŸ¢ Custom | timestamp | - | When completed | Load workflow | N/A |
| `sanity_check_completed_by` | ğŸŸ¢ Custom | string | - | Who completed | Load workflow | N/A |
| `pickup_date` | ğŸŸ¢ Custom | date | - | Customer pickup date | Load scheduling | N/A |
| `pickup_tba` | ğŸŸ¢ Custom | boolean | - | Pickup "to be arranged" | Load scheduling | N/A |
| `status` | ğŸŸ¢ Custom | enum | âœ“ | active, staged, in_transit, delivered | Load management | N/A |
| `category` | ğŸŸ¢ Custom | string | - | Custom categorization | Load filters | N/A |
| `notes` | ğŸŸ¢ Custom | text | - | Internal notes | Load detail | N/A |
| `created_at` | ğŸŸ¡ System | timestamp | âœ“ | Record creation | Audit | N/A |
| `updated_at` | ğŸŸ¡ System | timestamp | âœ“ | Last update | Audit | N/A |
| `created_by` | ğŸŸ¡ System | string | - | Creator username | Audit | N/A |

### Product Location History Table
GPS/position tracking for scanned items

| Field | Source | Type | Required | Description | Used In | Sync Status |
|-------|--------|------|----------|-------------|---------|-------------|
| `id` | ğŸŸ¡ System | uuid | âœ“ | Primary key | Map | N/A |
| `company_id` | ğŸŸ¡ System | uuid | âœ“ | Tenant isolation | Map | N/A |
| `location_id` | ğŸŸ¡ System | uuid | âœ“ | Warehouse location | Map | N/A |
| `product_id` | ğŸŸ¡ System | uuid | - | Link to products | Map markers | N/A |
| `inventory_item_id` | ğŸŸ¡ System | uuid | - | Link to inventory_items | Map markers | N/A |
| `scanning_session_id` | ğŸŸ¡ System | uuid | - | Link to scanning session | Map legend | N/A |
| `position_x` | ğŸŸ¢ Custom | number | âœ“ | X coordinate (reserved) | Future use | N/A |
| `position_y` | ğŸŸ¢ Custom | number | âœ“ | Y coordinate (reserved) | Future use | N/A |
| `position_source` | ğŸŸ¢ Custom | enum | âœ“ | "gps" or "beacon" | Map accuracy | N/A |
| `beacon_id` | ğŸŸ¢ Custom | uuid | - | Beacon reference (future) | Future positioning | N/A |
| `raw_lat` | ğŸŸ¢ Custom | number | - | GPS latitude | Map markers | N/A |
| `raw_lng` | ğŸŸ¢ Custom | number | - | GPS longitude | Map markers | N/A |
| `accuracy` | ğŸŸ¢ Custom | number | - | GPS accuracy in meters | Map display | N/A |
| `scanned_by` | ğŸŸ¢ Custom | string | - | Username who scanned | Map tooltips | N/A |
| `product_type` | ğŸŸ£ Computed | string | - | Snapshot at scan time | Map legend | N/A |
| `sub_inventory` | ğŸŸ£ Computed | string | - | Snapshot at scan time | Map legend | N/A |
| `created_at` | ğŸŸ¡ System | timestamp | âœ“ | Scan timestamp | Map timeline | N/A |

### Scanning Sessions Table
Barcode scanning workflow sessions

| Field | Source | Type | Required | Description | Used In | Sync Status |
|-------|--------|------|----------|-------------|---------|-------------|
| `id` | ğŸŸ¡ System | uuid | âœ“ | Primary key | Sessions | N/A |
| `company_id` | ğŸŸ¡ System | uuid | âœ“ | Tenant isolation | Sessions | N/A |
| `location_id` | ğŸŸ¡ System | uuid | âœ“ | Warehouse location | Sessions | N/A |
| `name` | ğŸŸ¢ Custom | string | âœ“ | Session name | Session list | N/A |
| `status` | ğŸŸ¢ Custom | enum | âœ“ | draft, active, closed | Session workflow | N/A |
| `inventory_type` | ğŸŸ¢ Custom | enum | âœ“ | What inventory to scan | Session filters | N/A |
| `sub_inventory` | ğŸŸ¢ Custom | string | - | Specific load/route | Session filters | N/A |
| `created_at` | ğŸŸ¡ System | timestamp | âœ“ | Creation time | Session list | N/A |
| `updated_at` | ğŸŸ¡ System | timestamp | âœ“ | Last update | Session list | N/A |
| `closed_at` | ğŸŸ¡ System | timestamp | - | When closed | Session history | N/A |
| `created_by` | ğŸŸ¢ Custom | string | - | Creator username | Session cards | N/A |
| `updated_by` | ğŸŸ¢ Custom | string | - | Last modifier | Audit | N/A |

---

## View 2: By Data Source

### ğŸ”µ GE-Sourced Fields
Fields synced from GE DMS via `ge-sync` service

#### Products
- `model` - Product model number
- `product_type` - Category/type

#### Inventory Items
- `serial` - Serial number (barcode)
- `model` - Product model
- `product_type` - Category
- `inventory_type` - ASIS, FG, Staged, etc.
- `sub_inventory` - Load/route identifier

#### Load Metadata
- `inventory_type` - Load type
- `sub_inventory_name` - Load identifier
- `ge_source_status` - Sale status (for sale/sold)
- `ge_cso_status` - Delivery status (picked/shipped/delivered)
- `ge_inv_org` - GE inventory org
- `ge_units` - Unit count
- `ge_submitted_date` - Submission date
- `ge_cso` - Customer Service Order number
- `ge_pricing` - Pricing information
- `ge_notes` - GE notes
- `ge_scanned_at` - Last GE scan timestamp

### ğŸŸ¢ Custom Fields
Fields added for warehouse-specific operations

#### Products
- `image_url` - Product photos for visual identification

#### Load Metadata
- `friendly_name` - Human-readable load names
- `primary_color` - UI color coding
- `prep_tagged` - Prep workflow tracking
- `prep_wrapped` - Prep workflow tracking
- `sanity_check_requested` - Quality control workflow
- `sanity_check_requested_at` - QC timestamp
- `sanity_check_requested_by` - QC requestor
- `sanity_check_completed_at` - QC completion
- `sanity_check_completed_by` - QC completer
- `pickup_date` - Customer pickup scheduling
- `pickup_tba` - Pickup TBA flag
- `status` - Internal load status
- `category` - Custom categorization
- `notes` - Internal notes

#### Product Location History
- `position_x` - X coordinate (reserved for future)
- `position_y` - Y coordinate (reserved for future)
- `position_source` - GPS vs beacon
- `beacon_id` - Beacon reference (future)
- `raw_lat` - GPS latitude
- `raw_lng` - GPS longitude
- `accuracy` - GPS accuracy
- `scanned_by` - Scanner username

#### Scanning Sessions
- `name` - Session name
- `status` - Session workflow status
- `inventory_type` - Target inventory
- `sub_inventory` - Target load/route
- `created_by` - Creator
- `updated_by` - Last modifier

### ğŸŸ¡ System Fields
Auto-generated by database or application

**All Tables:**
- `id` - UUID primary key
- `company_id` - Tenant isolation
- `location_id` - Warehouse location
- `created_at` - Creation timestamp
- `updated_at` - Last update timestamp

**Specific Tables:**
- `product_fk` (inventory_items) - Foreign key to products
- `ge_last_sync` (inventory_items) - Sync monitoring
- `closed_at` (scanning_sessions) - Session closure time

### ğŸŸ£ Computed Fields
Derived from other data at query/display time

**Product Location History:**
- `product_type` - Snapshot from inventory item at scan time
- `sub_inventory` - Snapshot from inventory item at scan time

---

## View 3: By Feature Domain

### Inventory Management
Tracking individual appliances and bulk inventory

**GE Fields:**
- `serial` - Item identification
- `model` - Product reference
- `product_type` - Categorization
- `inventory_type` - Inventory classification
- `sub_inventory` - Load assignment

**Custom Fields:**
- `image_url` - Visual identification
- `notes` - Item-specific notes

**Used In:** InventoryView, DashboardView, scanning workflows

---

### Load Management (ASIS)
Managing truckloads of as-is appliances

**GE Fields:**
- `sub_inventory_name` - Load identifier
- `ge_source_status` - Sale status
- `ge_cso_status` - Delivery status
- `ge_cso` - Customer order number
- `ge_units` - Item count
- `ge_submitted_date` - Timeline tracking
- `ge_inv_org` - GE organization
- `ge_pricing` - Pricing info
- `ge_notes` - GE notes

**Custom Fields:**
- `friendly_name` - User-friendly names
- `primary_color` - Color coding
- `prep_tagged` / `prep_wrapped` - Prep workflow
- `sanity_check_*` - Quality control
- `pickup_date` / `pickup_tba` - Scheduling
- `status` - Internal status
- `category` - Custom grouping
- `notes` - Internal notes

**Used In:** LoadManagementView, Dashboard load cards, Session dropdowns

---

### Scanning & Location Tracking
GPS-enabled barcode scanning and warehouse mapping

**GE Fields:**
- `serial` - Scan target
- `model` - Product reference
- `inventory_type` - Session filtering
- `sub_inventory` - Load reference

**Custom Fields:**
- `scanning_session_id` - Workflow tracking
- `raw_lat` / `raw_lng` - GPS coordinates
- `accuracy` - GPS precision
- `position_source` - GPS vs beacon
- `scanned_by` - User tracking
- `product_type` (snapshot) - Map legend
- `sub_inventory` (snapshot) - Map legend
- Session fields: `name`, `status`, `inventory_type`

**Used In:** ScanningSessionView, WarehouseMapNew, CreateSessionView

---

### Parts Management
Tracking service parts inventory

**GE Fields:**
- `model` - Part number
- `product_type` - Part category

**Custom Fields:**
- `reorder_threshold` - Inventory alerts
- `reorder_qty` - Reorder amount
- `current_qty` - Stock level
- `description` - Part description
- `image_url` - Part photo

**Used In:** PartsView, NotificationBell (reorder alerts)

---

## Coverage Analysis

### âœ… Well-Covered
- **Inventory tracking** - Full GE sync + custom enhancements
- **Load management** - Complete GE data + robust custom workflow
- **Scanning sessions** - Custom-built, works well

### âš ï¸ Partial Coverage
- **Load units count** (`ge_units`) - Sometimes missing from GE
- **Pricing data** (`ge_pricing`) - Incomplete in GE sync

### âŒ Not Yet Implemented
- **Beacon positioning** - Fields exist but not used
- **X/Y coordinates** - Reserved for future indoor mapping

---

## Maintenance Notes

**Last Updated:** 2026-01-30

**Auto-generated by:** `npm run db:docs`

**To update:**
1. Run `npm run db:types` to sync Supabase types
2. Run `npm run db:docs` to regenerate this file
3. Manually review and annotate new fields in `docs/field-sources.json`

**See also:**
- `services/ge-sync/README.md` - GE sync implementation
- `docs/auth.md` - Authentication fields
- `src/types/database.ts` - Generated Supabase types
